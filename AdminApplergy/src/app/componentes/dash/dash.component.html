
<main class="main">
    <div class="container mt-5 w-l" class="bg-gray-300 dark:bg-black ocupar">
      
      <div class="centrar">

        <mat-tab-group>
            <mat-tab label="Productos"> 
              <h1 class="text-xl text-black text-center dark:text-white"> Productos </h1>
            <div class="mb-3">
            </div>
            <div class="flex">
                <input class="focus:outline-none bg-white border-1 border-black dark:bg-[#7d7d7d] dark:text-white dark:border-white focus:ring-2 focus:ring-green-500" (keyup)="filtroProd($event)" type="text" id="clave"  placeholder="Introduce un nombre o una descripcion">
                <div>
                <img (click)="cargarProds()" src="https://cdn-icons-png.freepik.com/512/6711/6711725.png?ga=GA1.1.187001880.1744825120" width="50" class="cursor-pointer"> 
            </div>
            </div>
          <table class="w-full y divide-gray-200 overflow-x-auto">
            <thead class="bg-gray-50">
                <tr>
                  <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:bg-[#7d7d7d] dark:text-white uppercase tracking-wider">
                        
                  </th>
                    <th scope="col" class="px-6 py-3 text-left text-md font-medium text-gray-500 dark:bg-[#7d7d7d] dark:text-white uppercase tracking-wider">
                      <a class="cursor-pointer" (click)="sortOn('fullNom')">Nom</a>
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-md font-medium text-gray-500 dark:bg-[#7d7d7d] dark:text-white uppercase tracking-wider">
                      <a class="cursor-pointer" (click)="sortOn('desc')">Descipcion</a>
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-md font-medium text-gray-500 dark:bg-[#7d7d7d] dark:text-white uppercase tracking-wider">
                      <a class="cursor-pointer" (click)="sortOn('precio')">Precio</a>
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-md font-medium text-gray-500 dark:bg-[#7d7d7d] dark:text-white uppercase tracking-wider">
                      <a class="cursor-pointer" (click)="sortOn('stock')">Stock</a>
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-md font-medium text-gray-500 dark:bg-[#7d7d7d] dark:text-white uppercase tracking-wider">
                        <a class="cursor-pointer" (click)="sortOn('ingredientes')">Ingredientes</a>
                      </th>
                    <th scope="col" class="px-6 py-3 text-left text-md font-medium text-gray-500 dark:bg-[#7d7d7d] dark:text-white uppercase tracking-wider">
                        Acciones
                    </th>
                </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
                <tr *ngFor="let prod of prods">
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:bg-[#7d7d7d] dark:text-white"> 
                        <img class="rounded-xl" src={{prod.getImagen()}} width="50"> 
                      </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:bg-[#7d7d7d] dark:text-white"> 
                      {{prod.getNom()}} 
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:bg-[#7d7d7d] dark:text-white">
                      {{prod.getDesc()}}
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:bg-[#7d7d7d] dark:text-white">
                      {{prod.getPrecio()}}â‚¬
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:bg-[#7d7d7d] dark:text-white">
                      {{prod.getStock()}}
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:bg-[#7d7d7d] dark:text-white">
                        {{prod.getIngredientes()}}
                      </td>
                    <td class="px-6 py-4 whitespace-nowrap  text-sm font-medium dark:bg-[#7d7d7d] dark:text-white">
                        <a class="text-green-500 hover:text-green-700 dark:text-green-300 dark:hover:text-green-500 cursor-pointer" (click)="editarProd(prod.getId())">Editar</a>
                        <a class="ml-2 text-red-600 hover:text-red-900 dark:text-red-300 dark:hover:text-red-500 cursor-pointer" (click)="eliminarProd(prod.getId())">Eliminar</a>
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="flex justify-center">
        <img  class="w-20 cursor-pointer" (click)="nuevoDialog(nuevoProd)" src="https://cdn-icons-png.freepik.com/512/4561/4561769.png?ga=GA1.1.187001880.1744825120" width="20"> 
        </div>
            </mat-tab>
            <mat-tab label="Usuarios"> 
              <h1 class="text-xl text-black text-center dark:text-white"> Usuarios </h1>
            <div class="mb-3">
            </div>
            <div class="flex">
                <input class="focus:outline-none bg-white border-1 border-black dark:bg-[#7d7d7d] dark:text-white dark:border-white focus:ring-2 focus:ring-green-500"  type="text" id="clave" (keyup)="filtroUser($event)" placeholder="Introduce un email">
                <div>
                <img (click)="cargarUsers()" src="https://cdn-icons-png.freepik.com/512/6711/6711725.png?ga=GA1.1.187001880.1744825120" width="50" class="cursor-pointer"> 
            </div>
            </div>
          <table class="w-full y divide-gray-200 overflow-x-auto">
            <thead class="bg-gray-50">
                <tr>
                    <th scope="col" class="px-6 py-3 text-left text-md font-medium text-gray-500 dark:bg-[#7d7d7d] dark:text-white uppercase tracking-wider">
                      <a class="cursor-pointer" (click)="sortOn('fullNom')">Nom</a>
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-md font-medium text-gray-500 dark:bg-[#7d7d7d] dark:text-white uppercase tracking-wider">
                      <a class="cursor-pointer" (click)="sortOn('desc')">Edad</a>
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-md font-medium text-gray-500 dark:bg-[#7d7d7d] dark:text-white uppercase tracking-wider">
                      <a class="cursor-pointer" (click)="sortOn('precio')">Email</a>
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-md font-medium text-gray-500 dark:bg-[#7d7d7d] dark:text-white uppercase tracking-wider">
                      <a class="cursor-pointer" (click)="sortOn('stock')">Alergias</a>
                    </th>
                    <th scope="col" class="px-6 py-3 text-left text-md font-medium text-gray-500 dark:bg-[#7d7d7d] dark:text-white uppercase tracking-wider">
                        Acciones
                    </th>
                </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
                <tr *ngFor="let user of users">
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:bg-[#7d7d7d] dark:text-white"> 
                      {{user.getFullNom()}} 
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:bg-[#7d7d7d] dark:text-white">
                      {{user.getEdad()}}
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:bg-[#7d7d7d] dark:text-white">
                      {{user.getEmail()}}
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:bg-[#7d7d7d] dark:text-white">
                      {{user.getAlergias()}}
                    </td>
                    <td class="px-6 py-4 whitespace-nowrap  text-sm font-medium dark:bg-[#7d7d7d] dark:text-white">
                        <a class="text-green-500 hover:text-green-700 dark:text-green-300 dark:hover:text-green-500 cursor-pointer" (click)="editarUser(user.getId())">Editar</a>
                        <a class="ml-2 text-red-600 hover:text-red-900 dark:text-red-300 dark:hover:text-red-500 cursor-pointer" (click)="eliminarUser(user.getId())">Eliminar</a>
                    </td>
                </tr>
            </tbody>
        </table>
            </mat-tab>
            <mat-tab label="Alergias">  
              <h1 class="text-xl text-black text-center dark:text-white"> Alergias </h1>
              <div class="mb-3">
              </div>
              <div class="flex">
                  <input class="focus:outline-none bg-white border-1 border-black dark:bg-[#7d7d7d] dark:text-white dark:border-white focus:ring-2 focus:ring-green-500"  type="text" id="clave" (keyup)="filtroAler($event)" placeholder="Introduce un nombre">
                  <div>
                  <img (click)="cargarAlergias()" src="https://cdn-icons-png.freepik.com/512/6711/6711725.png?ga=GA1.1.187001880.1744825120" width="50" class="cursor-pointer"> 
              </div>
              </div>
            <table class="w-full y divide-gray-200 table-fixed overflow-x-auto">
              <thead class="bg-gray-50">
                  <tr>
                    <th scope="col" class="px-6 py-3 text-left text-md font-medium text-gray-500 dark:bg-[#7d7d7d] dark:text-white uppercase tracking-wider">
                      <a class="cursor-pointer" (click)="sortOn('allergy_id')">ID</a>
                    </th>
                      <th scope="col" class="px-6 py-3 text-left text-md font-medium text-gray-500 dark:bg-[#7d7d7d] dark:text-white uppercase tracking-wider">
                        <a class="cursor-pointer" (click)="sortOn('fullNom')">Nom</a>
                      </th>
                      <th scope="col" class="px-6 py-3 text-left text-md font-medium text-gray-500 dark:bg-[#7d7d7d] dark:text-white uppercase">
                        <a class="cursor-pointer" (click)="sortOn('desc')">Descripcion</a>
                      </th>
                      <th scope="col" class="px-6 py-3 text-left text-md font-medium text-gray-500 dark:bg-[#7d7d7d] dark:text-white uppercase tracking-wider">
                        <a class="cursor-pointer" (click)="sortOn('precio')">Detonantes</a>
                      </th>
                      <th scope="col" class="px-6 py-3 text-left text-md font-medium text-gray-500 dark:bg-[#7d7d7d] dark:text-white uppercase tracking-wider">
                          Acciones
                      </th>
                  </tr>
              </thead>
              <tbody class="bg-white divide-y divide-gray-200">
                  <tr *ngFor="let aler of alergies"> 
                    <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:bg-[#7d7d7d] dark:text-white"> 
                      {{aler.getId()}} 
                    </td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:bg-[#7d7d7d] dark:text-white"> 
                        {{aler.getNom()}} 
                      </td>
                      <td class="px-6 py-4 truncate whitespace-nowrap text-sm text-gray-500 dark:bg-[#7d7d7d] dark:text-white">
                        {{aler.getDesc()}}
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:bg-[#7d7d7d] dark:text-white">
                        {{aler.getDetonantes()}}
                      </td>
                      <td class="px-6 py-4 whitespace-nowrap  text-sm font-medium dark:bg-[#7d7d7d] dark:text-white">
                          <a class="text-green-500 hover:text-green-700 dark:text-green-300 dark:hover:text-green-500 cursor-pointer" (click)="editarAler(aler.getId())">Editar</a>
                          <a class="ml-2 text-red-600 hover:text-red-900 dark:text-red-300 dark:hover:text-red-500 cursor-pointer" (click)="eliminarAler(aler.getId())">Eliminar</a>
                      </td>
                  </tr>
              </tbody>
          </table>
          <div class="flex justify-center">
            <img  class="w-20 cursor-pointer" (click)="nuevoDialog(newAlergia)" src="https://cdn-icons-png.freepik.com/512/4561/4561769.png?ga=GA1.1.187001880.1744825120" width="20"> 
            </div>
            </mat-tab>
          </mat-tab-group>

            
          
           
          </div>
          
        
        
    </div>
  </main>

  <ng-template #nuevoProd>
        <div class="max-w-md mx-auto bg-gray-300 dark:bg-gray-700 p-5 centrarNuevo rounded-xl w-sm">
          <div class="flex justify-between">
            <h1 class="text-black text-2xl md:text-4xl dark:text-white font-semibold mb-2">Nuevo producto</h1>
            <div (click)="cerrar()" class="text-white bg-gray-700 p-1 text-2xl  dark:text-black font-semibold mb-2 cursor-pointer"> X </div>
          </div>
    
            <form [formGroup]="infoProd">
                <div class="flex justify-between">
                    <div class="mr-3 ml-0">
                    <input type="text" placeholder="Nombre" formControlName="fullNom" class="m-3 w-full bg-white text-black dark:bg-[#7d7d7d] dark:text-white rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-green-500">
                    <input type="text" placeholder="Descipcion" formControlName="descripcion" class="m-3 w-full bg-white text-black dark:bg-[#7d7d7d] dark:text-white rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-green-500">
                    <input type="number" placeholder="Stock" formControlName="stock" class="m-3 w-full bg-white text-black dark:bg-[#7d7d7d] dark:text-white rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-green-500">
                </div>
                <div>
                    <input type="number" placeholder="Precio" formControlName="precio" class="m-3 w-full bg-white text-black dark:bg-[#7d7d7d] dark:text-white rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-green-500">
                    <input type="text" placeholder="Imagen" formControlName="imagen" class="m-3 w-full bg-white text-black dark:bg-[#7d7d7d] dark:text-white rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-green-500">
                    <input type="text" placeholder="Ingredientes" formControlName="ingredientes" class="m-3 w-full bg-white text-black dark:bg-[#7d7d7d] dark:text-white rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-green-500">
                </div>
                </div>
                <div (click)="enviarProd()" class="mt-5 w-full bg-green-500 text-black text-center rounded-lg p-3 hover:bg-green-700 transition-colors">
                    Agregar producto 
                </div>
            </form>
        </div>
    
  </ng-template>

  <ng-template #newAlergia>
    <div class="max-w-md mx-auto bg-gray-300 dark:bg-gray-700 p-5 centrarNuevo rounded-xl w-sm">
      <div class="flex justify-between">
        <h1 class="text-black text-2xl md:text-4xl dark:text-white font-semibold mb-2">Nueva alergia</h1>
        <div (click)="cerrar()" class="text-white bg-gray-700 p-1 text-2xl  dark:text-black font-semibold mb-2 cursor-pointer"> X </div>
      </div>

        <form [formGroup]="infoAler">
            <div class="flex justify-between">
                <input type="text" placeholder="Nombre" formControlName="nom" class="m-3 w-full bg-white text-black dark:bg-[#7d7d7d] dark:text-white rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-green-500">
                <input type="text" placeholder="Descipcion" formControlName="descripcion" class="m-3 w-full bg-white text-black dark:bg-[#7d7d7d] dark:text-white rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-green-500">
                <input type="text" placeholder="Detonantes" formControlName="detonantes" class="m-3 w-full bg-white text-black dark:bg-[#7d7d7d] dark:text-white rounded-lg p-3 focus:outline-none focus:ring-2 focus:ring-green-500">
            </div>
            <div (click)="enviarAler()" class="mt-5 w-full bg-green-500 text-black text-center rounded-lg p-3 hover:bg-green-700 transition-colors">
                Agregar alergia 
            </div>
        </form>
    </div>

</ng-template>

  


 